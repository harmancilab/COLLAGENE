# COLLAGENE:

COLLAGENE is a collection of tools that enables secure collaborative analysis among multiple sites. Currently, it is implemented using SEAL4.0 in C++. The main interface uses simple bash scripts to call underlying implementations and to separate complexity from users.

## Motivation
Current methods for collaborative and federated analysis frameworks rely on complex interfaces (due to lack of source code, implementation, and documentation) that have prohibit from integration into existing pipelines or development of new pipelines.

The main motivation of COLLAGENE is to decrease the load of implementation from the developers and make it easy to integrate data analysis, especially for building federated analysis tools.

COLLAGENE aims at addressing these challenges by providing *ready-to-run executables* that can be directly integrated into pipelines by system calls. 

Numerous methodologies that COLLAGENE implements (masked plaintext processing, ciphertext refreshing, secret-key-sharing) have been utilized in other studies and codebases (e.g. HEAAN, TFHE, Lattigo). COLLAGENE aims at serving as a unified toolbase that the researchers use these in their pipelines. 

Developers can also directly link their code using COLLAGENE's codebase as the open-source implementations are available.

## Overview
COLLAGENE brings several components together to make it easy to build collaborative/federated data analysis pipelines. The central data protection of COLLAGENE relies on asymmetric-key data encryption. COLLAGENE makes use of *homomorphic encryption* (HE), 
which encrypts the data at rest, in transit and even while it is being analyzed. 

COLLAGENE utilizes a single public key and a secret-key-sharing mechanism among collaborating sites. The secret-key-sharing is based on Asharov's multi-party RLWE-based computation framework. 

COLLAGENE also makes use of related approaches such as symmetric encryption to protect data at different stages of data analysis.

## Security and Trust Model
The first trust component is the trust in the security and accuracy of COLLAGENE codebase and related tools. COLLAGENE relies on keys generated by the *KeyMaker* service (See below) which is used only for generating and sharing keys among sites.

Any data that is encrypted using the public key from KeyMaker can only be decrypted using a collaborative decryption procedure that all sites must participate in. Thus, any decryption among sites must be collectively agreed upon such that the decrypted data will not leak individual-level sensitive data. 

The pipelines that are built using COLLAGENE's approach are meant to be secure against honest-but-curious adversaries. This means that if any of the sites act maliciously and deviate from the data processing protocols (e.g., collaborative GWAS), 
the resulting data may become garbled or, if the protocols are not designed appropriately, sensitive data may leak. There are numerous approaches that are implemented into COLLAGENE that can be used to mitigate these issues, such as matrix masking.

If all sites execute the protocols appropriately, the results should be accurate and there should not be any sensitive data leakage from final results. 

*It must be noted that any collaborative data analysis protocol requires the final results to be decrypted* and a certain level of trust must exist among sites that allow for sharing of the final results. 

We recommend following:

1. Final decrypted results are of low dimension
2. Does not contain individual specific data
3. Final results are highly aggregated summaries of data from all sites
4. The sites must ensure that the data usage policy allows the final decrypted results can be shared among other sites. For instance, decryption of summary statistics is known to leak individual identifying information. However, this information will only be available to the collaborating sites unless it is explicitly released by one of the parties. The trust model among the sites must be appropriately established against these issues.

If all sites act according to the protocols, there should be no leakage to the outside malicious parties that are outside of the collaborating sites because the data always stays encrypted.

